\hypertarget{server_8h}{}\section{include/server.h File Reference}
\label{server_8h}\index{include/server.\+h@{include/server.\+h}}


background server for remote access  


{\ttfamily \#include $<$stdio.\+h$>$}\\*
{\ttfamily \#include $<$errno.\+h$>$}\\*
{\ttfamily \#include $<$stdlib.\+h$>$}\\*
{\ttfamily \#include $<$unistd.\+h$>$}\\*
{\ttfamily \#include $<$sys/types.\+h$>$}\\*
{\ttfamily \#include $<$sys/socket.\+h$>$}\\*
{\ttfamily \#include $<$netinet/in.\+h$>$}\\*
{\ttfamily \#include $<$netdb.\+h$>$}\\*
{\ttfamily \#include $<$string.\+h$>$}\\*
{\ttfamily \#include $<$sys/select.\+h$>$}\\*
{\ttfamily \#include $<$arpa/inet.\+h$>$}\\*
{\ttfamily \#include \char`\"{}shell.\+h\char`\"{}}\\*
Include dependency graph for server.\+h\+:
% FIG 0
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{server_8h_a30d4d9aeefc956bc6ae626ad57851a7c}{read\+And\+Execute} (int filedes, \hyperlink{structshell}{Shell} $\ast$\hyperlink{structshell}{shell})
\begin{DoxyCompactList}\small\item\em Read input from socket and execute the associated command. \end{DoxyCompactList}\item 
void $\ast$ \hyperlink{server_8h_ac8b371fa21d9502ceb15b45befce89a6}{start} (void $\ast$loaded\+Shell)
\begin{DoxyCompactList}\small\item\em start the background server \end{DoxyCompactList}\item 
int \hyperlink{server_8h_a0d53306866e0f1c477186a24a438b295}{make\+Socket} (uint16\+\_\+t port)
\begin{DoxyCompactList}\small\item\em Opens a socket. If port is not free, it will increment up to 10000 until it finds one. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
background server for remote access 

\begin{DoxyAuthor}{Author}
Antoine Sauray 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
14 April 2016 
\end{DoxyDate}


\subsection{Function Documentation}
\index{server.\+h@{server.\+h}!make\+Socket@{make\+Socket}}
\index{make\+Socket@{make\+Socket}!server.\+h@{server.\+h}}
\subsubsection[{\texorpdfstring{make\+Socket(uint16\+\_\+t port)}{makeSocket(uint16_t port)}}]{\setlength{\rightskip}{0pt plus 5cm}int make\+Socket (
\begin{DoxyParamCaption}
\item[{uint16\+\_\+t}]{port}
\end{DoxyParamCaption}
)}\hypertarget{server_8h_a0d53306866e0f1c477186a24a438b295}{}\label{server_8h_a0d53306866e0f1c477186a24a438b295}


Opens a socket. If port is not free, it will increment up to 10000 until it finds one. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em port} & the starting port\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the opened port 
\end{DoxyReturn}
\index{server.\+h@{server.\+h}!read\+And\+Execute@{read\+And\+Execute}}
\index{read\+And\+Execute@{read\+And\+Execute}!server.\+h@{server.\+h}}
\subsubsection[{\texorpdfstring{read\+And\+Execute(int filedes, Shell $\ast$shell)}{readAndExecute(int filedes, Shell *shell)}}]{\setlength{\rightskip}{0pt plus 5cm}int read\+And\+Execute (
\begin{DoxyParamCaption}
\item[{int}]{filedes, }
\item[{{\bf Shell} $\ast$}]{shell}
\end{DoxyParamCaption}
)}\hypertarget{server_8h_a30d4d9aeefc956bc6ae626ad57851a7c}{}\label{server_8h_a30d4d9aeefc956bc6ae626ad57851a7c}


Read input from socket and execute the associated command. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em filedes} & input socket \\
\hline
 & {\em shell} & the shell context\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 if no error, 0 otherwise 
\end{DoxyReturn}
\index{server.\+h@{server.\+h}!start@{start}}
\index{start@{start}!server.\+h@{server.\+h}}
\subsubsection[{\texorpdfstring{start(void $\ast$loaded\+Shell)}{start(void *loadedShell)}}]{\setlength{\rightskip}{0pt plus 5cm}void$\ast$ start (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{loaded\+Shell}
\end{DoxyParamCaption}
)}\hypertarget{server_8h_ac8b371fa21d9502ceb15b45befce89a6}{}\label{server_8h_ac8b371fa21d9502ceb15b45befce89a6}


start the background server 


\begin{DoxyParams}{Parameters}
{\em loaded\+Shell} & parameter for the fonction. Can be anything. In this case, we provide the shell context.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
